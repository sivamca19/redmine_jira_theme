/* JIRA Theme â€” Mobile responsiveness & small-screen tweaks */

@media (max-width:1200px){
  #main:has(#sidebar){grid-template-columns:240px 1fr!important;gap:16px!important;padding:16px!important}
  .projects{grid-template-columns:repeat(auto-fill,minmax(280px,1fr))!important}
}

@media (max-width:1024px){
  body:not(.nosidebar):not(.jl-no-sidebar) #main:has(#sidebar){display:block!important;padding:16px!important}
  #sidebar{position:static!important;max-height:none!important;margin-bottom:20px!important;width:100%!important}
  .contextual{float:none!important;justify-content:flex-start;margin-bottom:16px}
  .projects{grid-template-columns:1fr!important}
  #main-menu{overflow-x:auto;-webkit-overflow-scrolling:touch}
  .content-header,.page-header{flex-direction:column;align-items:flex-start;gap:16px}
  .content-header .contextual,.page-header .contextual{width:100%;justify-content:flex-start}
}

/* True off-canvas sidebar for handhelds */
@media (max-width:768px){
  body{font-size:13px}
  #main{padding:12px!important}
  body.controller-projects #main,body.controller-my #main{padding:12px!important;max-width:none!important}

  /* Off-canvas behavior */
  body:not(.nosidebar):not(.jl-no-sidebar) #sidebar{
    position:fixed!important; top:60px; left:0; height:calc(100vh - 60px); width:85vw; max-width:360px;
    transform:translateX(-110%); transition:transform .25s ease; box-shadow:var(--jira-shadow-lg); z-index:1002
  }
  html:not(.jl-sidebar-collapsed) body:not(.nosidebar):not(.jl-no-sidebar) #sidebar{ transform:translateX(0) }

  /* Optional dimmer (inserted by JS) */
  .jl-mobile-dim{
    position:fixed; inset:0; background:rgba(0,0,0,.35); z-index:1001; opacity:0; pointer-events:none; transition:opacity .2s ease
  }
  html:not(.jl-sidebar-collapsed) .jl-mobile-dim{opacity:1; pointer-events:auto}

  /* General tweaks */
  #header h1{font-size:18px!important;padding:8px 12px!important}
  #top-menu,#main-menu{padding:0 12px!important}
  .tabs ul{flex-wrap:nowrap!important;overflow-x:auto;-webkit-overflow-scrolling:touch}
  .tabs a{padding:10px 16px!important;font-size:13px!important}
  .contextual{flex-direction:column;align-items:stretch;width:100%}
  .contextual a{text-align:center;justify-content:center}
  .filter-row{flex-direction:column;align-items:stretch;gap:8px}
  .filter-row label{min-width:auto}
  .projects{grid-template-columns:1fr!important;gap:16px}
  table{font-size:12px;min-width:500px} table th,table td{padding:8px 12px!important}
  .query-form,.query-columns,fieldset,.filters,.options{padding:12px!important}
}

@media (max-width:480px){
  body{font-size:12px}
  #main{padding:8px!important}
  h1{font-size:20px} h2{font-size:18px} h3{font-size:16px}
  .box,.panel{padding:12px!important}
  #login-form,#password-form{padding:20px;margin:16px}
  table{font-size:11px;min-width:400px} table th,table td{padding:6px 8px!important}
  .button,.btn,.contextual a{padding:8px 12px!important;font-size:12px!important}
  .tabs a{padding:8px 12px!important;font-size:12px!important}
  #top-menu a{padding:4px 8px!important;font-size:12px}
  #main-menu a{padding:8px 12px!important;font-size:12px}
}

/* Flash messages & pagination remain readable on small screens */
#flash_notice,#flash_error,#flash_warning{
  padding:12px 16px;border-radius:var(--jira-radius);margin:16px 0;font-weight:500
}
#flash_notice{background:rgba(0,200,150,.1);border:1px solid var(--jira-success);color:var(--jira-success)}
#flash_error{background:rgba(222,53,11,.1);border:1px solid var(--jira-error);color:var(--jira-error)}
#flash_warning{background:rgba(255,171,0,.1);border:1px solid var(--jira-warning);color:var(--jira-warning)}

.pagination{display:flex;justify-content:center;gap:8px;margin:20px 0;list-style:none;flex-wrap:wrap}
.pagination a,.pagination span{
  display:block;padding:8px 12px;border:1px solid var(--jira-border);border-radius:var(--jira-radius);background:var(--jira-surface);
  color:var(--jira-text)!important;text-decoration:none!important;transition:all .2s ease;min-width:36px;text-align:center
}
.pagination a:hover{background:var(--jira-hover)}
.pagination .current{background:var(--jira-primary)!important;border-color:var(--jira-primary)!important;color:#fff!important}

/* Empty states */
.nodata{
  background:var(--jira-surface);border:1px solid var(--jira-border);border-radius:var(--jira-radius);padding:40px 20px;text-align:center;color:var(--jira-text-muted);font-style:italic;margin:20px 0
}
